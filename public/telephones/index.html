<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

    <title>CHED Intranet</title>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link rel = "stylesheet" href = "/css/style.css">
   <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
</head>
<body>
   <span class="material-icons" id="menu">menu</span>
 <nav class="navigation">
    <img class="logo" src="/img/chedlogo2.png" alt="logo" data-aos="fade-right" data-aos-duration="2000" />
    <ul class="widget" data-aos="fade-left" data-aos-duration="2000">
        <li>
            <a class="nav-link" href="/index.html#">Home</a>
        </li>
        <li>
            <a class="nav-link" href="/index.html#recent-news">Recent News</a>
        </li>
        <li>
            <a class="nav-link" href="/index.html#circular">Circular</a>
        </li>
        <li>
            <a class="nav-link" href="/index.html#requisition">Requisition</a>
        </li>
        <li>
            <a class="nav-link" href="/telephones/index.html">Telephone Exchange</a>
        </li>
        <li>
            <a class="nav-link" href="https://ched-internalweb-portal.netlify.app/admin">Admin</a>
        </li>
    </ul>
</nav>
   
    <div class="container">
      <input
        type="text"
        id="myInput"
        onkeyup="filterTable()"
        placeholder="Search..."
        title="Type in a name"
      />

      <table id="myTable" border="1">
        <thead></thead>
        <tbody></tbody>
      </table>
    </div>

    <script src ="../js/home.js"></script>

 <script>
  
//API fetching and displaying data from the API in a table format 
async function loadIntoTable(url, table) {
  const tableHead = document.querySelector("thead");
  const tableBody = document.querySelector("tbody");
  const response = await fetch(url);
  const {data} = await response.json();
  console.log(data);


  tableHead.innerHTML = `<tr id ='header' class = 'header'>
    <th>ID</th>
        <th>REGION</th>
        <th>DISTRICT</th>
        <th>RANK</th>
        <th>DEPARTMENT</th>
        <th>Name</th>
        <th>EXTENSION</th></tr>`;
  tableBody.innerHTML = "";

  

  for (const row of data) {
    const rowElement = document.createElement("tr");
    rowElement.className = "row";

    for (const cellText in row) {
      const cellTextElement = document.createElement("td");
      cellTextElement.textContent = `${row[cellText]}`;
      rowElement.appendChild(cellTextElement);
    }

    tableBody.appendChild(rowElement);
  }
}

loadIntoTable("https://ched.com.gh/applications/exchange/api/post/read.php", document.querySelector("table"));


//filter the data in the table

function filterTable() {
  var input, filter, table, tr, td, i;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("myTable");
  var rows = table.getElementsByClassName("row");
  for (i = 0; i < rows.length; i++) {
    var cells = rows[i].getElementsByTagName("td");
    var j;
    var rowContainsFilter = false;
    for (j = 0; j < cells.length; j++) {
      if (cells[j]) {
        if (cells[j].innerHTML.toUpperCase().indexOf(filter) > -1) {
          rowContainsFilter = true;
          continue;
        }
      }
    }

    if (!rowContainsFilter) {
      rows[i].style.display = "none";
    } else {
      rows[i].style.display = "";
    }
  }
}

 </script>

    <footer class="footer">
    <div class="footer-container">
      <div class="footer-column footer-colum-1">
        <div class="column-content chedDescriptionContent">
          <div class="footer-logo">
            <img src="/img/chedlogo2.png" alt="" id="footerLogo" />
            <!-- <h2>CHED</h2> -->
          </div>

          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Aperiam
            corrupti perferendis repellat fugit facere aspernatur, nostrum ut
            possimus beatae tempore iure hic odio et soluta ratione. Error
            voluptates quisquam consequuntur!
          </p>
        </div>
      </div>
      <div class="footer-column footer-colum-2">
        <div class="column-content">
          <h3>Site Links</h3>
          <ul>
            <li>
              <a class="nav-link" href="index.html"
                ><span class="material-icons"> navigate_next </span>Home</a
              >
            </li>
            <li>
              <a class="nav-link" href="#recent-news"
                ><span class="material-icons"> navigate_next </span>Recent
                News</a
              >
            </li>
            <li>
              <a class="nav-link" href="#circular"
                ><span class="material-icons"> navigate_next </span>Circular</a
              >
            </li>
            <li>
              <a class="nav-link" href="#requisition"
                ><span class="material-icons"> navigate_next </span
                >Requisition</a
              >
            </li>
            <li>
              <a class="nav-link" href="#"
                ><span class="material-icons"> navigate_next </span>Contact
                Us</a
              >
            </li>
            <li>
              <a class="nav-link" href="#"
                ><span class="material-icons"> navigate_next </span>Admin
                Panel</a
              >
            </li>
          </ul>
        </div>
      </div>
      <div class="footer-column footer-colum-3">
        <div class="column-content">
          <h3>Get In Touch</h3>
          <ul>
            <li>
              <a class="nav-link" href="#"
                ><span class="material-icons"> phone </span>+233 203 030 141</a
              >
            </li>
            <li>
              <a class="nav-link" href="#"
                ><span class="material-icons"> email </span>ched@ched.org</a
              >
            </li>
            <li>
              <a class="nav-link" href="#"
                ><span class="material-icons"> language </span>www.ched.com</a
              >
            </li>
            <li>
              <a class="nav-link" href="#"
                ><span class="material-icons"> location_on </span
                >ched.google.location</a
              >
            </li>
          </ul>
        </div>
      </div>
      <div id="inner-footer" class="footer-column footer-colum-4">
        <div class="copyright-div">
          <p id = "copyRight">&copy; 2022 CHED | All right reserved</p>
        </div>
        <span>
          <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M18.896 0H1.104C.494 0 0 .494 0 1.104v17.793C0 19.506.494 20 1.104 20h9.58v-7.745H8.076V9.237h2.606V7.01c0-2.583 1.578-3.99 3.883-3.99 1.104 0 2.052.082 2.329.119v2.7h-1.598c-1.254 0-1.496.597-1.496 1.47v1.928h2.989l-.39 3.018h-2.6V20h5.098c.608 0 1.102-.494 1.102-1.104V1.104C20 .494 19.506 0 18.896 0Z"
              fill="#FFF"
            />
          </svg>

          <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M10 1.802c2.67 0 2.987.01 4.042.059 2.71.123 3.975 1.409 4.099 4.099.048 1.054.057 1.37.057 4.04 0 2.672-.01 2.988-.057 4.042-.124 2.687-1.387 3.975-4.1 4.099-1.054.048-1.37.058-4.041.058-2.67 0-2.987-.01-4.04-.058-2.718-.124-3.977-1.416-4.1-4.1-.048-1.054-.058-1.37-.058-4.041 0-2.67.01-2.986.058-4.04.124-2.69 1.387-3.977 4.1-4.1 1.054-.048 1.37-.058 4.04-.058ZM10 0C7.284 0 6.944.012 5.877.06 2.246.227.227 2.242.061 5.877.01 6.944 0 7.284 0 10s.012 3.057.06 4.123c.167 3.632 2.182 5.65 5.817 5.817 1.067.048 1.407.06 4.123.06s3.057-.012 4.123-.06c3.629-.167 5.652-2.182 5.816-5.817.05-1.066.061-1.407.061-4.123s-.012-3.056-.06-4.122C19.777 2.249 17.76.228 14.124.06 13.057.01 12.716 0 10 0Zm0 4.865a5.135 5.135 0 1 0 0 10.27 5.135 5.135 0 0 0 0-10.27Zm0 8.468a3.333 3.333 0 1 1 0-6.666 3.333 3.333 0 0 1 0 6.666Zm5.338-9.87a1.2 1.2 0 1 0 0 2.4 1.2 1.2 0 0 0 0-2.4Z"
              fill="#FFF"
            />
          </svg>

          <svg width="20" height="17" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M20 2.172a8.192 8.192 0 0 1-2.357.646 4.11 4.11 0 0 0 1.805-2.27 8.22 8.22 0 0 1-2.606.996A4.096 4.096 0 0 0 13.847.248c-2.65 0-4.596 2.472-3.998 5.037A11.648 11.648 0 0 1 1.392 1a4.109 4.109 0 0 0 1.27 5.478 4.086 4.086 0 0 1-1.858-.513c-.045 1.9 1.318 3.679 3.291 4.075a4.113 4.113 0 0 1-1.853.07 4.106 4.106 0 0 0 3.833 2.849A8.25 8.25 0 0 1 0 14.658a11.616 11.616 0 0 0 6.29 1.843c7.618 0 11.923-6.434 11.663-12.205A8.354 8.354 0 0 0 20 2.172Z"
              fill="#FFF"
            />
          </svg>
        </span>
      </div>
    </div>
  </footer>
 
</body>
</html>